<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="wclassth=device-wclassth, initial-scale=1.0">
    <title>Join Game</title>
    <link rel="stylesheet" href="style.css">
    <script src = "script.js"></script>
    <!--We need to create a common style.css, I guess-->

</head>
    <div id="new_account">
    new account
    </div>
    <div id="join_game">
        <section id = "banner">
            <div id="top-banner">
                <div id="section3">
                    <!-- Code: Section 3 -->
                     section 3
                </div>
                <div id="button-wrapper1">
                    <button id="addPlayer" onclick = "addPlayerToLobby">
                        <!-- Code: Button (add player) -->
                         Add Player
                    </button>
                </div>  
            </div>
    
            <div id="lower-banner">
                <div id="title">
                    <!-- Code:Title for the game -->
                     Checkers
                </div>
            </div>
        </section> 
    
        <section id = "seperator">
            <div id="line">
    
            </div>
        </section>
    
        <section id="main">
            <div id="container">
                <div id="main-left">
                    <!--Code: to put in Buttons for selecting Players -->
                    <div id="players-row">
                        <div id="left-column">
                            <button class="selection-button" id="player1" data-value = "Player1">
                            Player 1
                            </button>
                            <button class="selection-button" id="bot1" data-value = "BOT1">
                            BOT1
                            </button>
                        </div>
                        <div id="middle-column">
                            <div id="button-wrapper2">
                                <div id="selectPlayer">
                                    <p id="sP">Select Players</p>
                                </div>
                            </div>
                        </div>
                        <div id="right-column">
                            <button class="selection-button" id="player2" data-value = "Player2">
                            Player 2
                            </button>
                            <button class="selection-button" id="bot2" data-value = "BOT2">
                            BOT2
                            </button>
                        </div>
                    </div>
                </div>
                <div id="main-right-wrapper">
                    <div id="main-right">
                        <!--Code: to put in the list of Active Players in the game -->
                        <p id="mr">Active Players</p>
                    </div>
                </div>
            </div>
        </section>
    
        <section id = "seperator">
            <div id="line">
    
            </div>
        </section>
    
        <section id="lobby">
            <div id="container">
                <div id="lobby-main">
                    <div id="lobby-top">
                        <div id="lobby-Title-Card">
                            <!-- Code: "Lobby" Name(only the name) -->
                             <p id = "lobbywrite">LOBBIES</p>
                        </div>
                        <div id="refresh">
                            <!-- Code: Put in referesh button -->
                             <p id="refereshwrite">Referesh</p>
                        </div>
                    </div>
                    <div id="lobby-bottom">  <!-- It should be scrollable-->
                        <!-- This is where all 10 lobbies go -->
                        <ul>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                     Lobby Name 1
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                     0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 2
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 3
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                     0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 4
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 5
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 6
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 7
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 8
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 9
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                            <li id="lobby-item">
                                <div id="lobby-name">
                                    <!-- This is where lobby name is entered -->
                                    Lobby Name 10
                                </div>
        
                                <div id="capacity">
                                    <!-- This is where the current number of player in the lobby is displayed -->
                                    0/2
                                </div>
        
                                <div id="join-game"> <!-- join-game is a single class and button is another single class. Button can inherit all the attributes from the button class defined in Add-player Button. So no need to code it once again you can tweak it/overwrite as we dclass with java function-->
                                    Join Lobby
                                    <!-- This is where Join Game Button lies -->
                        
                                </div>
        
                            </li>
                        </ul>
                    </div>
                </div>  
            
                <div id="back-button" onclick="handleBackButton()">
                    <button id="back">Back</button>
                </div>
            
            </div>
        </section>    
    
    
    </div>
    <div id="game_display">
    game display
    </div>
    <div id="summary">
    summary
    </div>
    <div id="stuff">
     <input type="button" value="Send Something" onclick="msg()">
      <label for="tbox">Received</label>
      <textarea id="tbox" name="tbox" rows="4" cols="50">
     </textarea>
    </div>
</html>
<script>
    // each of the 'divs' in the html page should have attributes to allow them to be hidden.
    // the page manager should send a small json message, that tells which of these are hidden
    // and which are visible when there is a change
    // something like "{"display_new_account":t,"display_join_game":f,"display_game_display:f,"display_summary":f}"


    // a reminder.  we want to create one websocket connection, and use if, basically forever.
    // or until the user decides to go to another page.
    // this requires everything to load from this page.

   
    var connection = null;

    var serverUrl;
    serverUrl = "ws://" + window.location.hostname + ":" + (parseInt(location.port) + 100);
    connection = new WebSocket(serverUrl);

    connection.onopen = function (evt) {
        console.log("open");
    }

    connection.onclose = function (evt) {
        console.log("close");
    }

    connection.onmessage = function (evt) {
        var msg;
        msg = evt.data;

        console.log("Message received: " + msg);
        document.getElementById("tbox").innerHTML = msg + '\n' + document.getElementById("tbox").innerHTML;
        //const obj = JSON.parse(msg);
    }

    class UserEvent {
        msg;
    }

    function msg() {
        console.log("button clicked");
        U = new UserEvent();
        U.msg="i pushed a button";
        connection.send(JSON.stringify(U));
        console.log(JSON.stringify(U))
    }
</script>
